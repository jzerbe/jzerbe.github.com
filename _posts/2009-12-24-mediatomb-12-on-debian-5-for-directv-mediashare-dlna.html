--- 
layout: post
title: MediaTomb 12 on Debian 5 for DirecTV MediaShare/DLNA
tags: 
- DirecTV
- dlna
- Linux
- MediaTomb
- Software
status: publish
type: post
published: true
meta: 
  _edit_last: "1"
---
I have been trying unsuccessfully for the past couple of months (on and off) to stream content from my home Linux servers to several DirecTV HR20-700's. This latest attempt, actually worked and I wanted to document my exact setup as no other literature has done.

Stuff you need:
<ol>
	<li>Debian 5 installed on a computer with ~ 1GHZ CPU, 256MB RAM for max two audio streams/1GB RAM for two simultaneous medium quality video streams, hard drive with media content on it</li>
	<li>reliable Internet connection</li>
	<li>a DirecTV HR2x</li>
</ol>
&nbsp;
&nbsp;
Here are the exact commands you need to run, I'll explain them later.
<blockquote><code>apt-get update
apt-get upgrade
apt-get -y install screen vlc vorbis-tools mpg123 ffmpeg unzip subversion build-essential autoconf automake curl libexpat-ocaml-dev libsqlite3-dev libcurl-ocaml-dev libid3-3.8.3-dev libtagc0-dev libavformat-dev libexif-dev
svn co https://svn.mediatomb.cc/svnroot/mediatomb/trunk/mediatomb mediatomb
cd mediatomb
autoreconf -i
./configure
make
make install
cd
wget http://dl.dropbox.com/u/44649188/blog_includes/article-includes/mediatomb.zip
mv mediatomb.zip /etc/
cd /etc/
unzip mediatomb.zip
rm mediatomb.zip
mkdir /var/lib/mediatomb
chmod -R 777 /var/lib/mediatomb/
cd
mv /etc/mediatomb/mediatomb /etc/init.d/
vi /etc/init.d/mediatomb < -- change line so ethX reads eth0, eth1, or whatever your LAN network interface card is assigned to
chmod +x /etc/init.d/mediatomb
update-rc.d mediatomb defaults</code></code></blockquote>
The idea is that the default MediaTomb install found in the repos (version 11) doesn't support transcoding quite right for the DirecTV HR2x. So we do an install from the repos for a bunch of dependencies for the latest code (version 12) that we then checkout from the project SVN repo. A new configuration script that I built is downloaded and installed. It has support for transcoding ogg, mp3, flac, flv, avi, mkv, mov, and a few other formats (pretty easy to add support for other formats check out --&gt; <a href="http://mediatomb.cc/dokuwiki/transcoding:transcoding#directv_hr2x_transcoding">http://mediatomb.cc/dokuwiki/transcoding:transcoding#directv_hr2x_transcoding</a>).

MediaTomb will be automatically started on boot. It can also be stopped and started manually by: <code>/etc/init.d/mediatomb stop</code> or <code>/etc/init.d/mediatomb start</code>.

You can then go to the webui of MediaTomb and update your media library. --&gt; http://hostname:49152/
