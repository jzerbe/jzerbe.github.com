--- 
layout: post
title: memory leaks in C
tags: 
- Code
status: publish
type: post
published: true
meta: 
  _edit_last: "1"
  _wp_old_slug: ""
---
<div>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td width="100%">
<div><a href="https://wwws.cs.umn.edu/it-forum/profile.php?728,5591">zerbe006</a></div>
<small><strong>memory leaks </strong>
September 18, 2010 02:55PM</small></td>
<td>Registered: 7 months ago
Posts: 2</td>
</tr>
</tbody>
</table>
</div>
<div>

Hey all,

Been poking around with clab1, and been playing around with malloc and calloc. When using malloc, it seems as though it is strongly suggested to use "free" and nullify your pointers to avoid memory leaks. Google hasn't been extremely helpful, but I did find the following on wikipedia:
<blockquote>
<div><small>Quote
</small><strong> </strong>
#include &lt;stdlib.h&gt;

int main(void)
{
/* this is an infinite loop calling the malloc function which
* allocates the memory but without saving the address of the
* allocated place */
while (malloc(50)); /* malloc will return NULL sooner or later, due to lack of memory */
return 0; /* free the allocated memory by operating system itself after program exits */
}

</div></blockquote>
My question: Will exit(0)/return 0 always clean up all used memory blocks?

Thanks, Jason
<div>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td width="100%">
<div><a href="https://wwws.cs.umn.edu/it-forum/profile.php?728,5885">jvander</a></div>
<small><strong>Re: memory leaks </strong>
September 19, 2010 08:01PM</small></td>
<td>Registered: 16 days ago
Posts: 7</td>
</tr>
</tbody>
</table>
</div>
<div>

In short, the Operating System gives you memory, it is up to you to manage it well, but when you are done, the Operating System bulldozes everything you had anyway.

Longer: The memory will still be allocated to your process. The underlying memory management will not know it is supposed to be freed. In some languages (java included) a garbage collector will handle this for you. However, in C, the memory remains allocated until the operating system reclaims all of the memory that your process was given. So yes, in the cause of a single main function, the memory leak is cleaned up by the operating system. More accurately, the OS isn't affected by your memory leak. (if it were, you just stole memory from the OS, and therefore, your computer). This is possible in part because of the magic of virtual memory.

</div>
</div>
